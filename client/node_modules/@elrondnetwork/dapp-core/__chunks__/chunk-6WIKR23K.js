import{a as l}from"./chunk-QVQ65UCM.js";import{a as w}from"./chunk-64L52LG2.js";import{a as h}from"./chunk-XVUV6WEX.js";import{a as L}from"./chunk-SFYCU3Z6.js";import{a as C}from"./chunk-I7XL7RNJ.js";import{b as y}from"./chunk-NXLSNF7R.js";import{a as T}from"./chunk-QNTIFNHY.js";import{g as N}from"./chunk-CIYEPAMQ.js";import{a as x}from"./chunk-XJJEEDNX.js";import{a as S}from"./chunk-FLWFNXC4.js";import{a as b,g as k}from"./chunk-YMWLFVZR.js";k();import t from"react";import{Address as q}from"@elrondnetwork/erdjs/out";import{faExclamationTriangle as J,faHourglass as K,faTimes as O}from"@fortawesome/free-solid-svg-icons";import{FontAwesomeIcon as Q}from"@fortawesome/react-fontawesome";var dt=({onSignTransaction:A,handleClose:B,onPrev:D,title:I,waitingForDevice:m,currentTransaction:n,error:a,allTransactions:c,isLastTransaction:W,currentStep:g,className:p})=>{let s=N();if(!n)return null;let G=n.transaction.getData().toString(),{network:u}=T(),{tokenId:i,amount:M,type:V,multiTxData:r,receiver:j}=n.transactionTokenInfo,f=Boolean(i&&x({tokenId:i,erdLabel:s})),v=g===0,P=$=>{$.preventDefault(),v?B():D()},E=V&&r&&!G.endsWith(r),o="Sign & Continue";o=m?"Check your Ledger":o,o=W&&!m?"Sign & Submit":o,o=E?"Continue":o;let{tokenDenomination:F,tokenAvatar:z}=y({tokenId:n.transactionTokenInfo.tokenId}),H=S({input:f?M:n.transaction.getValue().toString(),denomination:f?F:Number(u.egldDenomination),decimals:Number(u.decimals),showLastNonZeroDecimal:!1,addCommas:!0}),d=n.receiverScamInfo,Z=c.length>1,e=C(p,!0,{formGroup:"form-group text-left",formLabel:"form-label text-secondary",icon:"text-white",contentWrapper:"d-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3",tokenWrapper:"mb-3 mb-md-0 d-flex flex-column align-items-start",tokenLabel:"text-secondary text-left",tokenValue:"d-flex align-items-center mt-1",scamReport:"text-warning",scamReportIcon:"text-warning mr-1",tokenAmountLabel:"text-secondary text-left",tokenAmountValue:"d-flex align-items-center",dataFormGroup:"form-group text-left",errorMessage:"text-danger d-flex justify-content-center align-items-center",buttonsWrapper:"d-flex align-items-center justify-content-end mt-spacer",cancelButton:"btn btn-dark text-white flex-even mr-2",signButton:`btn ${d?"btn-warning":"btn-primary"} flex-even ml-2`});return t.createElement(L,{icon:a?O:K,iconClass:e.icon,iconBgClass:a?"bg-danger":"bg-warning",iconSize:"3x",className:p,title:I||"Confirm on Ledger",description:t.createElement(t.Fragment,null,n.transaction&&t.createElement(t.Fragment,null,Z&&t.createElement(h,{totalSteps:c.length,currentStep:g+1,className:"mb-4"}),t.createElement("div",{className:e.formGroup,"data-testid":"transactionTitle"},t.createElement("div",{className:e.formLabel},"To: "),r?new q(j).bech32():n.transaction.getReceiver().toString(),d&&t.createElement("div",{className:e.scamReport},t.createElement("span",null,t.createElement(Q,{icon:J,className:e.scamReportIcon}),t.createElement("small",null,d)))),t.createElement("div",{className:e.contentWrapper},t.createElement("div",{className:e.tokenWrapper},t.createElement("div",{className:e.tokenlabel},"Token"),t.createElement("div",{className:e.tokenValue},t.createElement(l.Icon,{tokenAvatar:z,token:i||s}),t.createElement("div",{className:"mr-1"}),t.createElement(l.Label,{token:i||s}))),t.createElement("div",null,t.createElement("div",{className:e.tokenAmountLabel},"Amount"),t.createElement("div",{className:e.tokenAmountValue},t.createElement("div",{className:"mr-1"},H),t.createElement(l.Symbol,{token:i||s})))),t.createElement("div",{className:e.dataFormGroup},n.transaction.getData()&&t.createElement(w,b({},{data:n.transaction.getData().toString(),highlight:r,isScCall:!i}))),a&&t.createElement("p",{className:e.errorMessage},a))),action:t.createElement("div",{className:e.buttonsWrapper},t.createElement("button",{id:"closeButton","data-testid":"closeButton",onClick:P,className:e.cancelButton},v?"Cancel":"Back"),t.createElement("button",{type:"button",className:e.signButton,id:"signBtn","data-testid":"signBtn",onClick:A,disabled:m},o))})};export{dt as a};
//# sourceMappingURL=chunk-6WIKR23K.js.map
