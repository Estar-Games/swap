import{b as u}from"./chunk-VQHMKRDB.js";import{b as R}from"./chunk-4N3EQQFD.js";import{b as v}from"./chunk-V6SQFOYO.js";import{a as S}from"./chunk-SRWUNFKU.js";import{j as h,u as H}from"./chunk-CIYEPAMQ.js";import{b as p}from"./chunk-TRR6AJCY.js";import{h as d,i as m,j as B}from"./chunk-IJ6N7P6P.js";import{e as l,g}from"./chunk-YMWLFVZR.js";g();var n={},f=[];function G({serverTransaction:i,sessionId:a,customTransactionInformation:r,shouldRefreshBalance:o}){let{hash:e,status:t,results:s,invalidTransaction:c,hasStatusChanged:T}=i;try{if(f.includes(e))return;if(n[e]>30){u(a);return}if(c||d(t)){n[e]=n[e]?n[e]+1:1;return}T&&(m(t)&&(r==null?void 0:r.completedTransactionsDelay)!=null?(f.push(e),setTimeout(()=>h.dispatch(p({sessionId:a,status:"success",transactionHash:e})),r==null?void 0:r.completedTransactionsDelay)):h.dispatch(p({sessionId:a,status:t,transactionHash:e}))),o||H(),B(t)&&v({sessionId:a,hash:e,results:s})}catch(y){console.error(y),u(a)}}function F(t){return l(this,arguments,function*({sessionId:i,transactionBatch:{transactions:a,customTransactionInformation:r},getTransactionsByHash:o=S,shouldRefreshBalance:e}){try{if(a==null)return;let s=R(a,f),c=yield o(s);for(let T of c)G({serverTransaction:T,sessionId:i,customTransactionInformation:r,shouldRefreshBalance:e})}catch(s){console.error(s)}})}var J=F;export{F as a,J as b};
//# sourceMappingURL=chunk-JGRI7ZZY.js.map
