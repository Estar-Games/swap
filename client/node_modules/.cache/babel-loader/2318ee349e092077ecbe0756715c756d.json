{"ast":null,"code":"import { b as d } from \"./chunk-X3XWFXC5.js\";\nimport { a as T } from \"./chunk-LR4373CI.js\";\nimport { b as o } from \"./chunk-JAGHGL47.js\";\nimport { a as l } from \"./chunk-UC2YA35M.js\";\nimport { g as S } from \"./chunk-YMWLFVZR.js\";\nS();\nimport n from \"react\";\nimport b from \"moment\";\n\nvar W = _ref => {\n  let {\n    id: a,\n    children: f,\n    progress: r,\n    done: g,\n    expiresIn: v = 10 * 60\n  } = _ref;\n\n  let u = n.useRef(null),\n      m = n.useRef(),\n      R = () => {\n    let e = o.session.getItem(\"toastProgress\");\n    if (!Boolean(e == null ? void 0 : e[a])) return;\n    let i = l(v);\n    delete e[a], o.session.setItem({\n      key: \"toastProgress\",\n      data: e,\n      expires: i\n    });\n  },\n      P = _ref2 => {\n    let {\n      value: e\n    } = _ref2;\n    let t = o.session.getItem(\"toastProgress\") || {};\n    t[a] = e, o.session.setItem({\n      key: \"toastProgress\",\n      data: t,\n      expires: l(v)\n    });\n  },\n      h = () => {\n    let e = r ? r.endTime - r.startTime : 0,\n        t = o.session.getItem(\"toastProgress\"),\n        i = r ? (r.endTime - b().unix()) * 100 / e : 0;\n    return {\n      currentRemaining: t && a in t ? t[a] : i,\n      totalSeconds: e\n    };\n  },\n      {\n    totalSeconds: y,\n    currentRemaining: N\n  } = h(),\n      [x, p] = n.useState(N);\n\n  return n.useEffect(() => {\n    if (r) {\n      let t = y / 90,\n          i = b.duration(t.toFixed(2), \"s\").asMilliseconds();\n      return g ? m.current = setInterval(() => {\n        u.current !== null && p(s => {\n          let c = s - 1;\n          return c <= 0 ? (clearInterval(m.current), R(), 0) : (P({\n            value: c\n          }), c);\n        });\n      }, 5) : m.current = setInterval(() => {\n        u.current !== null && p(s => {\n          let c = s > 10 ? 1 : T(s),\n              I = s - c;\n          return P({\n            value: I\n          }), I;\n        });\n      }, i), () => {\n        clearInterval(m.current);\n      };\n    }\n  }, [r, g]), r ? n.createElement(\"div\", {\n    ref: u,\n    className: d.progress\n  }, n.createElement(\"div\", {\n    role: \"progressbar\",\n    style: {\n      width: `${x}%`\n    },\n    \"aria-valuenow\": x,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100,\n    className: d.bar\n  }), f) : n.createElement(n.Fragment, null, f);\n};\n\nexport { W as a };","map":{"version":3,"names":["b","d","a","T","o","l","g","S","n","W","id","children","f","progress","r","done","expiresIn","v","u","useRef","m","R","e","session","getItem","Boolean","i","setItem","key","data","expires","P","value","t","h","endTime","startTime","unix","currentRemaining","totalSeconds","y","N","x","p","useState","useEffect","duration","toFixed","asMilliseconds","current","setInterval","s","c","clearInterval","I","createElement","ref","className","role","style","width","bar","Fragment"],"sources":["/home/edi/Desktop/swap/client/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-Y4SLEBQI.js"],"sourcesContent":["import{b as d}from\"./chunk-X3XWFXC5.js\";import{a as T}from\"./chunk-LR4373CI.js\";import{b as o}from\"./chunk-JAGHGL47.js\";import{a as l}from\"./chunk-UC2YA35M.js\";import{g as S}from\"./chunk-YMWLFVZR.js\";S();import n from\"react\";import b from\"moment\";var W=({id:a,children:f,progress:r,done:g,expiresIn:v=10*60})=>{let u=n.useRef(null),m=n.useRef(),R=()=>{let e=o.session.getItem(\"toastProgress\");if(!Boolean(e==null?void 0:e[a]))return;let i=l(v);delete e[a],o.session.setItem({key:\"toastProgress\",data:e,expires:i})},P=({value:e})=>{let t=o.session.getItem(\"toastProgress\")||{};t[a]=e,o.session.setItem({key:\"toastProgress\",data:t,expires:l(v)})},h=()=>{let e=r?r.endTime-r.startTime:0,t=o.session.getItem(\"toastProgress\"),i=r?(r.endTime-b().unix())*100/e:0;return{currentRemaining:t&&a in t?t[a]:i,totalSeconds:e}},{totalSeconds:y,currentRemaining:N}=h(),[x,p]=n.useState(N);return n.useEffect(()=>{if(r){let t=y/90,i=b.duration(t.toFixed(2),\"s\").asMilliseconds();return g?m.current=setInterval(()=>{u.current!==null&&p(s=>{let c=s-1;return c<=0?(clearInterval(m.current),R(),0):(P({value:c}),c)})},5):m.current=setInterval(()=>{u.current!==null&&p(s=>{let c=s>10?1:T(s),I=s-c;return P({value:I}),I})},i),()=>{clearInterval(m.current)}}},[r,g]),r?n.createElement(\"div\",{ref:u,className:d.progress},n.createElement(\"div\",{role:\"progressbar\",style:{width:`${x}%`},\"aria-valuenow\":x,\"aria-valuemin\":0,\"aria-valuemax\":100,className:d.bar}),f):n.createElement(n.Fragment,null,f)};export{W as a};\n//# sourceMappingURL=chunk-Y4SLEBQI.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}