{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ArgumentErrorContext = void 0;\n\nconst errors_1 = require(\"../errors\");\n\nclass ArgumentErrorContext {\n  constructor(endpointName, argumentIndex, parameterDefinition) {\n    this.endpointName = endpointName;\n    this.argumentIndex = argumentIndex;\n    this.parameterDefinition = parameterDefinition;\n  }\n\n  throwError(specificError) {\n    throw new errors_1.ErrInvalidArgument(`Error when converting arguments for endpoint (endpoint name: ${this.endpointName}, argument index: ${this.argumentIndex}, name: ${this.parameterDefinition.name}, type: ${this.parameterDefinition.type})\\nNested error: ${specificError}`);\n  }\n\n  convertError(native, typeName) {\n    this.throwError(`Can't convert argument (argument: ${native}, type ${typeof native}), wanted type: ${typeName})`);\n  }\n\n  unhandledType(functionName, type) {\n    this.throwError(`Unhandled type (function: ${functionName}, type: ${type})`);\n  }\n\n  guardSameLength(native, valueTypes) {\n    native = native || [];\n\n    if (native.length != valueTypes.length) {\n      this.throwError(`Incorrect composite type length: have ${native.length}, expected ${valueTypes.length} (argument: ${native})`);\n    }\n  }\n\n  guardHasField(native, fieldName) {\n    native = native || {};\n\n    if (!(fieldName in native)) {\n      this.throwError(`Struct argument does not contain a field named \"${fieldName}\" (argument: ${JSON.stringify(native)})`);\n    }\n  }\n\n}\n\nexports.ArgumentErrorContext = ArgumentErrorContext;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAGA,MAAaA,oBAAb,CAAiC;EAK7BC,YAAYC,YAAZ,EAAkCC,aAAlC,EAAyDC,mBAAzD,EAAyG;IACrG,KAAKF,YAAL,GAAoBA,YAApB;IACA,KAAKC,aAAL,GAAqBA,aAArB;IACA,KAAKC,mBAAL,GAA2BA,mBAA3B;EACH;;EAEDC,UAAU,CAACC,aAAD,EAAsB;IAC5B,MAAM,IAAIC,2BAAJ,CAAuB,gEAAgE,KAAKL,YAAY,qBAAqB,KAAKC,aAAa,WAAW,KAAKC,mBAAL,CAAyBI,IAAI,WAAW,KAAKJ,mBAAL,CAAyBK,IAAI,oBAAoBH,aAAa,EAAhQ,CAAN;EACH;;EAEDI,YAAY,CAACC,MAAD,EAAcC,QAAd,EAA8B;IACtC,KAAKP,UAAL,CAAgB,qCAAqCM,MAAM,UAAU,OAAOA,MAAM,mBAAmBC,QAAQ,GAA7G;EACH;;EAEDC,aAAa,CAACC,YAAD,EAAuBL,IAAvB,EAAiC;IAC1C,KAAKJ,UAAL,CAAgB,6BAA6BS,YAAY,WAAWL,IAAI,GAAxE;EACH;;EAEDM,eAAe,CAAIJ,MAAJ,EAAmBK,UAAnB,EAAkC;IAC7CL,MAAM,GAAGA,MAAM,IAAI,EAAnB;;IACA,IAAIA,MAAM,CAACM,MAAP,IAAiBD,UAAU,CAACC,MAAhC,EAAwC;MACpC,KAAKZ,UAAL,CAAgB,yCAAyCM,MAAM,CAACM,MAAM,cAAcD,UAAU,CAACC,MAAM,eAAeN,MAAM,GAA1H;IACH;EACJ;;EAEDO,aAAa,CAACP,MAAD,EAAcQ,SAAd,EAA+B;IACxCR,MAAM,GAAGA,MAAM,IAAI,EAAnB;;IACA,IAAI,EAAEQ,SAAS,IAAIR,MAAf,CAAJ,EAA4B;MACxB,KAAKN,UAAL,CAAgB,mDAAmDc,SAAS,gBAAgBC,IAAI,CAACC,SAAL,CAAeV,MAAf,CAAsB,GAAlH;IACH;EACJ;;AAnC4B;;AAAjCW","names":["ArgumentErrorContext","constructor","endpointName","argumentIndex","parameterDefinition","throwError","specificError","errors_1","name","type","convertError","native","typeName","unhandledType","functionName","guardSameLength","valueTypes","length","guardHasField","fieldName","JSON","stringify","exports"],"sourceRoot":"","sources":["../../src/smartcontracts/argumentErrorContext.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}