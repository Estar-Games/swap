{"ast":null,"code":"import { a as j } from \"./chunk-UK3KZYBG.js\";\nimport { c as O, d as n } from \"./chunk-5WWDE5CH.js\";\nimport { a as _ } from \"./chunk-WSEUXKQ7.js\";\nimport { b as h, m as v, o as A, r as U } from \"./chunk-CIYEPAMQ.js\";\nimport { b as I, c as y, d as E, e as S, f as W } from \"./chunk-7VRNE5H2.js\";\nimport { e as C } from \"./chunk-W6LR3W2N.js\";\nimport { c as m, g as M, j as w, k as R } from \"./chunk-RVI5KZYP.js\";\nimport { g as z } from \"./chunk-EU6LW3Z6.js\";\nimport { d as F } from \"./chunk-WZI7N45Z.js\";\nimport { b as D } from \"./chunk-7YJZIEAA.js\";\nimport { b as x, g as k } from \"./chunk-AXKBBYAP.js\";\nimport { a as s, c as N } from \"./chunk-N5CEAHUR.js\";\nimport { c as p, d as H } from \"./chunk-MDPKQI3Z.js\";\nimport { e as r, g as P } from \"./chunk-YMWLFVZR.js\";\nP();\nimport { useEffect as u, useState as te } from \"react\";\nimport { ExtensionProvider as oe } from \"@elrondnetwork/erdjs-extension-provider\";\nimport { HWProvider as ne } from \"@elrondnetwork/erdjs-hw-provider\";\n\nfunction re() {\n  let f = n(C),\n      L = n(E),\n      g = n(I),\n      q = n(W),\n      a = n(x),\n      b = n(k),\n      i = n(S),\n      l = n(y),\n      [d, B] = te(),\n      o = O(),\n      {\n    callbackRoute: G,\n    logoutRoute: J\n  } = L || {\n    callbackRoute: \"\",\n    logoutRoute: \"\"\n  },\n      [K] = j({\n    callbackRoute: G,\n    logoutRoute: J\n  });\n  u(() => {\n    Q();\n  }, [f]), u(() => {\n    ee();\n  }, [g]), u(() => {\n    V();\n  }, [a, l]), u(() => {\n    T();\n  }, [b, l, d]);\n\n  function Q() {\n    return r(this, null, function* () {\n      try {\n        let e = yield _();\n        e && o(F(e.erd_chain_id));\n      } catch (e) {\n        console.error(\"failed refreshing chainId \", e);\n      }\n    });\n  }\n\n  function T() {\n    b == null && i != null && d && o(M({\n      index: i.index,\n      address: a,\n      hasContractDataEnabled: d.dataEnabled,\n      version: d.version\n    }));\n  }\n\n  function V() {\n    return r(this, null, function* () {\n      if (o(w(!0)), a && l) try {\n        let e = yield A(a);\n        e && o(m({\n          balance: e.balance,\n          address: a,\n          nonce: e.nonce.valueOf(),\n          username: e.username\n        }));\n      } catch (e) {\n        o(R(\"Failed getting account\")), console.error(\"Failed getting account \", e);\n      }\n      o(w(!1));\n    });\n  }\n\n  function X() {\n    return r(this, null, function* () {\n      try {\n        if (q != null) {\n          let e = p(f.walletAddress),\n              t = yield v();\n\n          if (t) {\n            s(e), o(D({\n              address: t,\n              loginMethod: \"wallet\"\n            }));\n            let c = yield A(t);\n            c && o(m({\n              balance: c.balance,\n              address: t,\n              nonce: U(c),\n              username: c.username\n            }));\n          }\n\n          o(z(null));\n        }\n      } catch (e) {\n        console.error(\"Failed authenticating wallet user \", e);\n      }\n    });\n  }\n\n  function Y() {\n    return r(this, null, function* () {\n      let e = new ne(),\n          t = e.isInitialized();\n\n      if (t || (t = yield e.init()), !t && l) {\n        console.warn(\"Could not initialise ledger app\"), h();\n        return;\n      }\n\n      return (i == null ? void 0 : i.index) != null && (e.addressIndex = i.index), e;\n    });\n  }\n\n  function Z() {\n    return r(this, null, function* () {\n      try {\n        let e = yield Y();\n        if (!e) return;\n        let t = yield H(e);\n        s(e), B(t);\n      } catch (e) {\n        console.error(\"Could not initialise ledger app\", e), h();\n      }\n    });\n  }\n\n  function $() {\n    return r(this, null, function* () {\n      try {\n        let e = yield v(),\n            t = oe.getInstance().setAddress(e);\n        (yield t.init()) ? s(t) : console.error(\"Could not initialise extension, make sure Elrond wallet extension is installed.\");\n      } catch (e) {\n        console.error(\"Unable to login to ExtensionProvider\", e);\n      }\n    });\n  }\n\n  function ee() {\n    if (g != null) switch (g) {\n      case \"ledger\":\n        {\n          Z();\n          break;\n        }\n\n      case \"walletconnect\":\n        {\n          K(!1);\n          break;\n        }\n\n      case \"wallet\":\n        {\n          let e = p(f.walletAddress);\n          s(e);\n          break;\n        }\n\n      case \"extension\":\n        {\n          $();\n          break;\n        }\n\n      case \"extra\":\n        {\n          N();\n          break;\n        }\n\n      case \"\":\n        {\n          X();\n          break;\n        }\n\n      default:\n        return;\n    }\n  }\n\n  return null;\n}\n\nexport { re as a };","map":{"version":3,"names":["a","j","c","O","d","n","_","b","h","m","v","o","A","r","U","I","y","E","e","S","f","W","C","g","M","w","k","R","z","F","D","x","s","N","p","H","P","useEffect","u","useState","te","ExtensionProvider","oe","HWProvider","ne","re","L","q","i","l","B","callbackRoute","G","logoutRoute","J","K","Q","ee","V","T","erd_chain_id","console","error","index","address","hasContractDataEnabled","dataEnabled","version","balance","nonce","valueOf","username","X","walletAddress","t","loginMethod","Y","isInitialized","init","warn","addressIndex","Z","$","getInstance","setAddress"],"sources":["/home/edi/Desktop/swap/client/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-ZB7MPFCB.js"],"sourcesContent":["import{a as j}from\"./chunk-UK3KZYBG.js\";import{c as O,d as n}from\"./chunk-5WWDE5CH.js\";import{a as _}from\"./chunk-WSEUXKQ7.js\";import{b as h,m as v,o as A,r as U}from\"./chunk-CIYEPAMQ.js\";import{b as I,c as y,d as E,e as S,f as W}from\"./chunk-7VRNE5H2.js\";import{e as C}from\"./chunk-W6LR3W2N.js\";import{c as m,g as M,j as w,k as R}from\"./chunk-RVI5KZYP.js\";import{g as z}from\"./chunk-EU6LW3Z6.js\";import{d as F}from\"./chunk-WZI7N45Z.js\";import{b as D}from\"./chunk-7YJZIEAA.js\";import{b as x,g as k}from\"./chunk-AXKBBYAP.js\";import{a as s,c as N}from\"./chunk-N5CEAHUR.js\";import{c as p,d as H}from\"./chunk-MDPKQI3Z.js\";import{e as r,g as P}from\"./chunk-YMWLFVZR.js\";P();import{useEffect as u,useState as te}from\"react\";import{ExtensionProvider as oe}from\"@elrondnetwork/erdjs-extension-provider\";import{HWProvider as ne}from\"@elrondnetwork/erdjs-hw-provider\";function re(){let f=n(C),L=n(E),g=n(I),q=n(W),a=n(x),b=n(k),i=n(S),l=n(y),[d,B]=te(),o=O(),{callbackRoute:G,logoutRoute:J}=L||{callbackRoute:\"\",logoutRoute:\"\"},[K]=j({callbackRoute:G,logoutRoute:J});u(()=>{Q()},[f]),u(()=>{ee()},[g]),u(()=>{V()},[a,l]),u(()=>{T()},[b,l,d]);function Q(){return r(this,null,function*(){try{let e=yield _();e&&o(F(e.erd_chain_id))}catch(e){console.error(\"failed refreshing chainId \",e)}})}function T(){b==null&&i!=null&&d&&o(M({index:i.index,address:a,hasContractDataEnabled:d.dataEnabled,version:d.version}))}function V(){return r(this,null,function*(){if(o(w(!0)),a&&l)try{let e=yield A(a);e&&o(m({balance:e.balance,address:a,nonce:e.nonce.valueOf(),username:e.username}))}catch(e){o(R(\"Failed getting account\")),console.error(\"Failed getting account \",e)}o(w(!1))})}function X(){return r(this,null,function*(){try{if(q!=null){let e=p(f.walletAddress),t=yield v();if(t){s(e),o(D({address:t,loginMethod:\"wallet\"}));let c=yield A(t);c&&o(m({balance:c.balance,address:t,nonce:U(c),username:c.username}))}o(z(null))}}catch(e){console.error(\"Failed authenticating wallet user \",e)}})}function Y(){return r(this,null,function*(){let e=new ne,t=e.isInitialized();if(t||(t=yield e.init()),!t&&l){console.warn(\"Could not initialise ledger app\"),h();return}return(i==null?void 0:i.index)!=null&&(e.addressIndex=i.index),e})}function Z(){return r(this,null,function*(){try{let e=yield Y();if(!e)return;let t=yield H(e);s(e),B(t)}catch(e){console.error(\"Could not initialise ledger app\",e),h()}})}function $(){return r(this,null,function*(){try{let e=yield v(),t=oe.getInstance().setAddress(e);(yield t.init())?s(t):console.error(\"Could not initialise extension, make sure Elrond wallet extension is installed.\")}catch(e){console.error(\"Unable to login to ExtensionProvider\",e)}})}function ee(){if(g!=null)switch(g){case\"ledger\":{Z();break}case\"walletconnect\":{K(!1);break}case\"wallet\":{let e=p(f.walletAddress);s(e);break}case\"extension\":{$();break}case\"extra\":{N();break}case\"\":{X();break}default:return}}return null}export{re as a};\n//# sourceMappingURL=chunk-ZB7MPFCB.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}