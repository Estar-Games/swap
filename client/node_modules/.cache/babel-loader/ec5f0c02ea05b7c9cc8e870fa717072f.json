{"ast":null,"code":"import { b as f } from \"./chunk-WYP7B4XN.js\";\nimport { a as O } from \"./chunk-743O3BY4.js\";\nimport { e as P, f as $ } from \"./chunk-OZ6SMI6T.js\";\nimport { g as B } from \"./chunk-YMWLFVZR.js\";\nB();\nimport { TokenPayment as F } from \"@elrondnetwork/erdjs\";\nimport t from \"bignumber.js\";\nt.config({\n  ROUNDING_MODE: t.ROUND_FLOOR\n});\n\nfunction M(_ref) {\n  let {\n    input: i,\n    denomination: w = P,\n    decimals: r = $,\n    showLastNonZeroDecimal: o = !0,\n    showIsLessThanDecimalsLabel: I = !1,\n    addCommas: v = !1\n  } = _ref;\n  if (!O(i, !1)) throw new Error(\"Invalid input\");\n  let u = new t(i).isNegative(),\n      l = i;\n  return u && (l = i.substring(1)), f(l).then(() => F.fungibleFromBigInteger(\"\", l, w).toRationalNumber()).then(m => {\n    let c = new t(m);\n    if (c.isZero()) return \"0\";\n    let g = c.toString(10),\n        [N, n] = g.split(\".\"),\n        h = new t(n || 0),\n        d = f(0).if(Boolean(n && o)).then(() => Math.max(n.length, r)).if(h.isZero() && !o).then(0).if(Boolean(n && !o)).then(() => Math.min(n.length, r)).valueOf(),\n        b = n && r >= 1 && r <= n.length && h.isGreaterThan(0) && new t(n.substring(0, r)).isZero(),\n        D = c.toFormat(d);\n    return f(g).if(v).then(D).if(Boolean(b)).then(a => {\n      let s = new t(N).isZero(),\n          [e, R] = a.split(\".\"),\n          p = new Array(r - 1).fill(0),\n          x = [...p, 0].join(\"\"),\n          A = [...p, 1].join(\"\");\n      return s ? I ? `<${e}.${A}` : o ? `${e}.${R}` : e : `${e}.${x}`;\n    }).if(Boolean(!b && n)).then(a => {\n      if (o) return a;\n      let [s] = a.split(\".\"),\n          e = n.substring(0, d);\n      return e ? `${s}.${e}` : s;\n    }).valueOf();\n  }).if(u).then(m => `-${m}`).valueOf();\n}\n\nvar _ = M;\nexport { M as a, _ as b };","map":{"version":3,"names":["b","f","a","O","e","P","$","g","B","TokenPayment","F","t","config","ROUNDING_MODE","ROUND_FLOOR","M","input","i","denomination","w","decimals","r","showLastNonZeroDecimal","o","showIsLessThanDecimalsLabel","I","addCommas","v","Error","u","isNegative","l","substring","then","fungibleFromBigInteger","toRationalNumber","m","c","isZero","toString","N","n","split","h","d","if","Boolean","Math","max","length","min","valueOf","isGreaterThan","D","toFormat","s","R","p","Array","fill","x","join","A","_"],"sources":["/home/edi/Desktop/swap/client/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-FLWFNXC4.js"],"sourcesContent":["import{b as f}from\"./chunk-WYP7B4XN.js\";import{a as O}from\"./chunk-743O3BY4.js\";import{e as P,f as $}from\"./chunk-OZ6SMI6T.js\";import{g as B}from\"./chunk-YMWLFVZR.js\";B();import{TokenPayment as F}from\"@elrondnetwork/erdjs\";import t from\"bignumber.js\";t.config({ROUNDING_MODE:t.ROUND_FLOOR});function M({input:i,denomination:w=P,decimals:r=$,showLastNonZeroDecimal:o=!0,showIsLessThanDecimalsLabel:I=!1,addCommas:v=!1}){if(!O(i,!1))throw new Error(\"Invalid input\");let u=new t(i).isNegative(),l=i;return u&&(l=i.substring(1)),f(l).then(()=>F.fungibleFromBigInteger(\"\",l,w).toRationalNumber()).then(m=>{let c=new t(m);if(c.isZero())return\"0\";let g=c.toString(10),[N,n]=g.split(\".\"),h=new t(n||0),d=f(0).if(Boolean(n&&o)).then(()=>Math.max(n.length,r)).if(h.isZero()&&!o).then(0).if(Boolean(n&&!o)).then(()=>Math.min(n.length,r)).valueOf(),b=n&&r>=1&&r<=n.length&&h.isGreaterThan(0)&&new t(n.substring(0,r)).isZero(),D=c.toFormat(d);return f(g).if(v).then(D).if(Boolean(b)).then(a=>{let s=new t(N).isZero(),[e,R]=a.split(\".\"),p=new Array(r-1).fill(0),x=[...p,0].join(\"\"),A=[...p,1].join(\"\");return s?I?`<${e}.${A}`:o?`${e}.${R}`:e:`${e}.${x}`}).if(Boolean(!b&&n)).then(a=>{if(o)return a;let[s]=a.split(\".\"),e=n.substring(0,d);return e?`${s}.${e}`:s}).valueOf()}).if(u).then(m=>`-${m}`).valueOf()}var _=M;export{M as a,_ as b};\n//# sourceMappingURL=chunk-FLWFNXC4.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}