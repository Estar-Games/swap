{"ast":null,"code":"import { i as f, j as I } from \"./chunk-IJ6N7P6P.js\";\nimport { a as A } from \"./chunk-7YJZIEAA.js\";\nimport { a as u, b as y, g as m } from \"./chunk-YMWLFVZR.js\";\nm();\nimport { createSlice as v } from \"@reduxjs/toolkit\";\nimport { REHYDRATE as F } from \"redux-persist\";\nvar g = {\n  signedTransactions: {},\n  transactionsToSign: null,\n  signTransactionsError: null,\n  customTransactionInformationForSessionId: {}\n},\n    M = {\n  signWithoutSending: !1,\n  sessionInformation: null,\n  redirectAfterSign: !1\n},\n    E = v({\n  name: \"transactionsSlice\",\n  initialState: g,\n  reducers: {\n    moveTransactionsToSignedState: (n, a) => {\n      var e, c;\n      let {\n        sessionId: s,\n        transactions: o,\n        errorMessage: i,\n        status: t\n      } = a.payload,\n          r = ((e = n.customTransactionInformationForSessionId) == null ? void 0 : e[s]) || M;\n      n.signedTransactions[s] = {\n        transactions: o,\n        status: t,\n        errorMessage: i,\n        customTransactionInformation: r\n      }, ((c = n == null ? void 0 : n.transactionsToSign) == null ? void 0 : c.sessionId) === s && (n.transactionsToSign = g.transactionsToSign);\n    },\n    clearSignedTransaction: (n, a) => {\n      n.signedTransactions[a.payload] && delete n.signedTransactions[a.payload];\n    },\n    clearTransactionToSign: n => {\n      n != null && n.transactionsToSign && (n.transactionsToSign = null);\n    },\n    updateSignedTransaction: (n, a) => {\n      n.signedTransactions = u(u({}, n.signedTransactions), a.payload);\n    },\n    updateSignedTransactions: (n, a) => {\n      let {\n        sessionId: s,\n        status: o,\n        errorMessage: i,\n        transactions: t\n      } = a.payload;\n      n.signedTransactions[s] != null && (n.signedTransactions[s].status = o, i != null && (n.signedTransactions[s].errorMessage = i), t != null && (n.signedTransactions[s].transactions = t));\n    },\n    updateSignedTransactionStatus: (n, a) => {\n      var e, c, l, S, d, p;\n      let {\n        sessionId: s,\n        status: o,\n        errorMessage: i,\n        transactionHash: t\n      } = a.payload,\n          r = (c = (e = n.signedTransactions) == null ? void 0 : e[s]) == null ? void 0 : c.transactions;\n\n      if (r != null) {\n        n.signedTransactions[s].transactions = r.map(T => T.hash === t ? y(u({}, T), {\n          status: o,\n          errorMessage: i\n        }) : T);\n        let P = (S = (l = n.signedTransactions[s]) == null ? void 0 : l.transactions) == null ? void 0 : S.every(T => f(T.status)),\n            x = (p = (d = n.signedTransactions[s]) == null ? void 0 : d.transactions) == null ? void 0 : p.every(T => I(T.status));\n        P && (n.signedTransactions[s].status = \"success\"), x && (n.signedTransactions[s].status = \"fail\");\n      }\n    },\n    setTransactionsToSign: (n, a) => {\n      n.transactionsToSign = a.payload;\n      let {\n        sessionId: s,\n        customTransactionInformation: o\n      } = a.payload;\n      n.customTransactionInformationForSessionId[s] = o, n.signTransactionsError = null;\n    },\n    clearAllTransactionsToSign: n => {\n      n.transactionsToSign = g.transactionsToSign, n.signTransactionsError = null;\n    },\n    clearAllSignedTransactions: n => {\n      n.signedTransactions = g.signedTransactions;\n    },\n    setSignTransactionsError: (n, a) => {\n      n.signTransactionsError = a.payload;\n    }\n  },\n  extraReducers: n => {\n    n.addCase(A, () => g), n.addCase(F, (a, s) => {\n      var r;\n      if (!((r = s.payload) != null && r.transactions)) return;\n      let {\n        signedTransactions: o,\n        customTransactionInformationForSessionId: i\n      } = s.payload.transactions,\n          t = Object.entries(o).reduce((e, _ref) => {\n        let [c, l] = _ref;\n        let S = new Date(c),\n            d = new Date();\n        return d.setHours(d.getHours() + 5), d - S > 0 || (e[c] = l), e;\n      }, {});\n      i != null && (a.customTransactionInformationForSessionId = i), o != null && (a.signedTransactions = t);\n    });\n  }\n}),\n    {\n  updateSignedTransactionStatus: W,\n  updateSignedTransactions: Y,\n  setTransactionsToSign: b,\n  clearAllTransactionsToSign: q,\n  clearAllSignedTransactions: z,\n  clearSignedTransaction: G,\n  clearTransactionToSign: J,\n  setSignTransactionsError: K,\n  moveTransactionsToSignedState: L\n} = E.actions,\n    N = E.reducer;\nexport { E as a, W as b, Y as c, b as d, q as e, z as f, G as g, J as h, K as i, L as j, N as k };","map":{"version":3,"names":["i","f","j","I","a","A","u","b","y","g","m","createSlice","v","REHYDRATE","F","signedTransactions","transactionsToSign","signTransactionsError","customTransactionInformationForSessionId","M","signWithoutSending","sessionInformation","redirectAfterSign","E","name","initialState","reducers","moveTransactionsToSignedState","n","e","c","sessionId","s","transactions","o","errorMessage","status","t","payload","r","customTransactionInformation","clearSignedTransaction","clearTransactionToSign","updateSignedTransaction","updateSignedTransactions","updateSignedTransactionStatus","l","S","d","p","transactionHash","map","T","hash","P","every","x","setTransactionsToSign","clearAllTransactionsToSign","clearAllSignedTransactions","setSignTransactionsError","extraReducers","addCase","Object","entries","reduce","Date","setHours","getHours","W","Y","q","z","G","J","K","L","actions","N","reducer","h","k"],"sources":["/home/edi/Desktop/swap/client/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-TRR6AJCY.js"],"sourcesContent":["import{i as f,j as I}from\"./chunk-IJ6N7P6P.js\";import{a as A}from\"./chunk-7YJZIEAA.js\";import{a as u,b as y,g as m}from\"./chunk-YMWLFVZR.js\";m();import{createSlice as v}from\"@reduxjs/toolkit\";import{REHYDRATE as F}from\"redux-persist\";var g={signedTransactions:{},transactionsToSign:null,signTransactionsError:null,customTransactionInformationForSessionId:{}},M={signWithoutSending:!1,sessionInformation:null,redirectAfterSign:!1},E=v({name:\"transactionsSlice\",initialState:g,reducers:{moveTransactionsToSignedState:(n,a)=>{var e,c;let{sessionId:s,transactions:o,errorMessage:i,status:t}=a.payload,r=((e=n.customTransactionInformationForSessionId)==null?void 0:e[s])||M;n.signedTransactions[s]={transactions:o,status:t,errorMessage:i,customTransactionInformation:r},((c=n==null?void 0:n.transactionsToSign)==null?void 0:c.sessionId)===s&&(n.transactionsToSign=g.transactionsToSign)},clearSignedTransaction:(n,a)=>{n.signedTransactions[a.payload]&&delete n.signedTransactions[a.payload]},clearTransactionToSign:n=>{n!=null&&n.transactionsToSign&&(n.transactionsToSign=null)},updateSignedTransaction:(n,a)=>{n.signedTransactions=u(u({},n.signedTransactions),a.payload)},updateSignedTransactions:(n,a)=>{let{sessionId:s,status:o,errorMessage:i,transactions:t}=a.payload;n.signedTransactions[s]!=null&&(n.signedTransactions[s].status=o,i!=null&&(n.signedTransactions[s].errorMessage=i),t!=null&&(n.signedTransactions[s].transactions=t))},updateSignedTransactionStatus:(n,a)=>{var e,c,l,S,d,p;let{sessionId:s,status:o,errorMessage:i,transactionHash:t}=a.payload,r=(c=(e=n.signedTransactions)==null?void 0:e[s])==null?void 0:c.transactions;if(r!=null){n.signedTransactions[s].transactions=r.map(T=>T.hash===t?y(u({},T),{status:o,errorMessage:i}):T);let P=(S=(l=n.signedTransactions[s])==null?void 0:l.transactions)==null?void 0:S.every(T=>f(T.status)),x=(p=(d=n.signedTransactions[s])==null?void 0:d.transactions)==null?void 0:p.every(T=>I(T.status));P&&(n.signedTransactions[s].status=\"success\"),x&&(n.signedTransactions[s].status=\"fail\")}},setTransactionsToSign:(n,a)=>{n.transactionsToSign=a.payload;let{sessionId:s,customTransactionInformation:o}=a.payload;n.customTransactionInformationForSessionId[s]=o,n.signTransactionsError=null},clearAllTransactionsToSign:n=>{n.transactionsToSign=g.transactionsToSign,n.signTransactionsError=null},clearAllSignedTransactions:n=>{n.signedTransactions=g.signedTransactions},setSignTransactionsError:(n,a)=>{n.signTransactionsError=a.payload}},extraReducers:n=>{n.addCase(A,()=>g),n.addCase(F,(a,s)=>{var r;if(!((r=s.payload)!=null&&r.transactions))return;let{signedTransactions:o,customTransactionInformationForSessionId:i}=s.payload.transactions,t=Object.entries(o).reduce((e,[c,l])=>{let S=new Date(c),d=new Date;return d.setHours(d.getHours()+5),d-S>0||(e[c]=l),e},{});i!=null&&(a.customTransactionInformationForSessionId=i),o!=null&&(a.signedTransactions=t)})}}),{updateSignedTransactionStatus:W,updateSignedTransactions:Y,setTransactionsToSign:b,clearAllTransactionsToSign:q,clearAllSignedTransactions:z,clearSignedTransaction:G,clearTransactionToSign:J,setSignTransactionsError:K,moveTransactionsToSignedState:L}=E.actions,N=E.reducer;export{E as a,W as b,Y as c,b as d,q as e,z as f,G as g,J as h,K as i,L as j,N as k};\n//# sourceMappingURL=chunk-TRR6AJCY.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}