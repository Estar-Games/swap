{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransactionEventTopic = exports.TransactionEvent = void 0;\n\nconst primitives_1 = require(\"./primitives\");\n\nclass TransactionEvent {\n  constructor(init) {\n    this.address = new primitives_1.Address(\"\");\n    this.identifier = \"\";\n    this.topics = [];\n    this.data = \"\";\n    Object.assign(this, init);\n  }\n\n  static fromHttpResponse(responsePart) {\n    let result = new TransactionEvent();\n    result.address = new primitives_1.Address(responsePart.address);\n    result.identifier = responsePart.identifier || \"\";\n    result.topics = (responsePart.topics || []).map(topic => new TransactionEventTopic(topic));\n    result.data = Buffer.from(responsePart.data || \"\", \"base64\").toString();\n    return result;\n  }\n\n  findFirstOrNoneTopic(predicate) {\n    return this.topics.filter(topic => predicate(topic))[0];\n  }\n\n  getLastTopic() {\n    return this.topics[this.topics.length - 1];\n  }\n\n}\n\nexports.TransactionEvent = TransactionEvent;\n\nclass TransactionEventTopic {\n  constructor(topic) {\n    this.raw = Buffer.from(topic || \"\", \"base64\");\n  }\n\n  toString() {\n    return this.raw.toString(\"utf8\");\n  }\n\n  hex() {\n    return this.raw.toString(\"hex\");\n  }\n\n  valueOf() {\n    return this.raw;\n  }\n\n}\n\nexports.TransactionEventTopic = TransactionEventTopic;","map":{"version":3,"mappings":";;;;;;;AACA;;AAEA,MAAaA,gBAAb,CAA6B;EAMzBC,YAAYC,IAAZ,EAA4C;IAL5C,eAAoB,IAAIC,oBAAJ,CAAY,EAAZ,CAApB;IACA,kBAAqB,EAArB;IACA,cAAkC,EAAlC;IACA,YAAe,EAAf;IAGIC,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBH,IAApB;EACH;;EAEsB,OAAhBI,gBAAgB,CAACC,YAAD,EAKtB;IACG,IAAIC,MAAM,GAAG,IAAIR,gBAAJ,EAAb;IACAQ,MAAM,CAACC,OAAP,GAAiB,IAAIN,oBAAJ,CAAYI,YAAY,CAACE,OAAzB,CAAjB;IACAD,MAAM,CAACE,UAAP,GAAoBH,YAAY,CAACG,UAAb,IAA2B,EAA/C;IACAF,MAAM,CAACG,MAAP,GAAgB,CAACJ,YAAY,CAACI,MAAb,IAAuB,EAAxB,EAA4BC,GAA5B,CAAgCC,KAAK,IAAI,IAAIC,qBAAJ,CAA0BD,KAA1B,CAAzC,CAAhB;IACAL,MAAM,CAACO,IAAP,GAAcC,MAAM,CAACC,IAAP,CAAYV,YAAY,CAACQ,IAAb,IAAqB,EAAjC,EAAqC,QAArC,EAA+CG,QAA/C,EAAd;IAEA,OAAOV,MAAP;EACH;;EAEDW,oBAAoB,CAACC,SAAD,EAAqD;IACrE,OAAO,KAAKT,MAAL,CAAYU,MAAZ,CAAmBR,KAAK,IAAIO,SAAS,CAACP,KAAD,CAArC,EAA8C,CAA9C,CAAP;EACH;;EAEDS,YAAY;IACR,OAAO,KAAKX,MAAL,CAAY,KAAKA,MAAL,CAAYY,MAAZ,GAAqB,CAAjC,CAAP;EACH;;AA/BwB;;AAA7BC;;AAkCA,MAAaV,qBAAb,CAAkC;EAG9Bb,YAAYY,KAAZ,EAAyB;IACrB,KAAKY,GAAL,GAAWT,MAAM,CAACC,IAAP,CAAYJ,KAAK,IAAI,EAArB,EAAyB,QAAzB,CAAX;EACH;;EAEDK,QAAQ;IACJ,OAAO,KAAKO,GAAL,CAASP,QAAT,CAAkB,MAAlB,CAAP;EACH;;EAEDQ,GAAG;IACC,OAAO,KAAKD,GAAL,CAASP,QAAT,CAAkB,KAAlB,CAAP;EACH;;EAEDS,OAAO;IACH,OAAO,KAAKF,GAAZ;EACH;;AAjB6B;;AAAlCD","names":["TransactionEvent","constructor","init","primitives_1","Object","assign","fromHttpResponse","responsePart","result","address","identifier","topics","map","topic","TransactionEventTopic","data","Buffer","from","toString","findFirstOrNoneTopic","predicate","filter","getLastTopic","length","exports","raw","hex","valueOf"],"sourceRoot":"","sources":["../src/transactionEvents.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}