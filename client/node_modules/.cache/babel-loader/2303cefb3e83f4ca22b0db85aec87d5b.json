{"ast":null,"code":"import { b as u } from \"./chunk-VQHMKRDB.js\";\nimport { b as R } from \"./chunk-4N3EQQFD.js\";\nimport { b as v } from \"./chunk-V6SQFOYO.js\";\nimport { a as S } from \"./chunk-SRWUNFKU.js\";\nimport { j as h, u as H } from \"./chunk-CIYEPAMQ.js\";\nimport { b as p } from \"./chunk-TRR6AJCY.js\";\nimport { h as d, i as m, j as B } from \"./chunk-IJ6N7P6P.js\";\nimport { e as l, g } from \"./chunk-YMWLFVZR.js\";\ng();\nvar n = {},\n    f = [];\n\nfunction G(_ref) {\n  let {\n    serverTransaction: i,\n    sessionId: a,\n    customTransactionInformation: r,\n    shouldRefreshBalance: o\n  } = _ref;\n  let {\n    hash: e,\n    status: t,\n    results: s,\n    invalidTransaction: c,\n    hasStatusChanged: T\n  } = i;\n\n  try {\n    if (f.includes(e)) return;\n\n    if (n[e] > 30) {\n      u(a);\n      return;\n    }\n\n    if (c || d(t)) {\n      n[e] = n[e] ? n[e] + 1 : 1;\n      return;\n    }\n\n    T && (m(t) && (r == null ? void 0 : r.completedTransactionsDelay) != null ? (f.push(e), setTimeout(() => h.dispatch(p({\n      sessionId: a,\n      status: \"success\",\n      transactionHash: e\n    })), r == null ? void 0 : r.completedTransactionsDelay)) : h.dispatch(p({\n      sessionId: a,\n      status: t,\n      transactionHash: e\n    }))), o || H(), B(t) && v({\n      sessionId: a,\n      hash: e,\n      results: s\n    });\n  } catch (y) {\n    console.error(y), u(a);\n  }\n}\n\nfunction F(t) {\n  return l(this, arguments, function* (_ref2) {\n    let {\n      sessionId: i,\n      transactionBatch: {\n        transactions: a,\n        customTransactionInformation: r\n      },\n      getTransactionsByHash: o = S,\n      shouldRefreshBalance: e\n    } = _ref2;\n\n    try {\n      if (a == null) return;\n      let s = R(a, f),\n          c = yield o(s);\n\n      for (let T of c) G({\n        serverTransaction: T,\n        sessionId: i,\n        customTransactionInformation: r,\n        shouldRefreshBalance: e\n      });\n    } catch (s) {\n      console.error(s);\n    }\n  });\n}\n\nvar J = F;\nexport { F as a, J as b };","map":{"version":3,"names":["b","u","R","v","a","S","j","h","H","p","d","i","m","B","e","l","g","n","f","G","serverTransaction","sessionId","customTransactionInformation","r","shouldRefreshBalance","o","hash","status","t","results","s","invalidTransaction","c","hasStatusChanged","T","includes","completedTransactionsDelay","push","setTimeout","dispatch","transactionHash","y","console","error","F","arguments","transactionBatch","transactions","getTransactionsByHash","J"],"sources":["/home/edi/Desktop/swap/client/node_modules/@elrondnetwork/dapp-core/__chunks__/chunk-JGRI7ZZY.js"],"sourcesContent":["import{b as u}from\"./chunk-VQHMKRDB.js\";import{b as R}from\"./chunk-4N3EQQFD.js\";import{b as v}from\"./chunk-V6SQFOYO.js\";import{a as S}from\"./chunk-SRWUNFKU.js\";import{j as h,u as H}from\"./chunk-CIYEPAMQ.js\";import{b as p}from\"./chunk-TRR6AJCY.js\";import{h as d,i as m,j as B}from\"./chunk-IJ6N7P6P.js\";import{e as l,g}from\"./chunk-YMWLFVZR.js\";g();var n={},f=[];function G({serverTransaction:i,sessionId:a,customTransactionInformation:r,shouldRefreshBalance:o}){let{hash:e,status:t,results:s,invalidTransaction:c,hasStatusChanged:T}=i;try{if(f.includes(e))return;if(n[e]>30){u(a);return}if(c||d(t)){n[e]=n[e]?n[e]+1:1;return}T&&(m(t)&&(r==null?void 0:r.completedTransactionsDelay)!=null?(f.push(e),setTimeout(()=>h.dispatch(p({sessionId:a,status:\"success\",transactionHash:e})),r==null?void 0:r.completedTransactionsDelay)):h.dispatch(p({sessionId:a,status:t,transactionHash:e}))),o||H(),B(t)&&v({sessionId:a,hash:e,results:s})}catch(y){console.error(y),u(a)}}function F(t){return l(this,arguments,function*({sessionId:i,transactionBatch:{transactions:a,customTransactionInformation:r},getTransactionsByHash:o=S,shouldRefreshBalance:e}){try{if(a==null)return;let s=R(a,f),c=yield o(s);for(let T of c)G({serverTransaction:T,sessionId:i,customTransactionInformation:r,shouldRefreshBalance:e})}catch(s){console.error(s)}})}var J=F;export{F as a,J as b};\n//# sourceMappingURL=chunk-JGRI7ZZY.js.map\n"],"mappings":"AAAA,SAAOA,CAAC,IAAIC,CAAZ,QAAkB,qBAAlB;AAAwC,SAAOD,CAAC,IAAIE,CAAZ,QAAkB,qBAAlB;AAAwC,SAAOF,CAAC,IAAIG,CAAZ,QAAkB,qBAAlB;AAAwC,SAAOC,CAAC,IAAIC,CAAZ,QAAkB,qBAAlB;AAAwC,SAAOC,CAAC,IAAIC,CAAZ,EAAcN,CAAC,IAAIO,CAAnB,QAAyB,qBAAzB;AAA+C,SAAOR,CAAC,IAAIS,CAAZ,QAAkB,qBAAlB;AAAwC,SAAOF,CAAC,IAAIG,CAAZ,EAAcC,CAAC,IAAIC,CAAnB,EAAqBN,CAAC,IAAIO,CAA1B,QAAgC,qBAAhC;AAAsD,SAAOC,CAAC,IAAIC,CAAZ,EAAcC,CAAd,QAAoB,qBAApB;AAA0CA,CAAC;AAAG,IAAIC,CAAC,GAAC,EAAN;AAAA,IAASC,CAAC,GAAC,EAAX;;AAAc,SAASC,CAAT,OAAmG;EAAA,IAAxF;IAACC,iBAAiB,EAACT,CAAnB;IAAqBU,SAAS,EAACjB,CAA/B;IAAiCkB,4BAA4B,EAACC,CAA9D;IAAgEC,oBAAoB,EAACC;EAArF,CAAwF;EAAC,IAAG;IAACC,IAAI,EAACZ,CAAN;IAAQa,MAAM,EAACC,CAAf;IAAiBC,OAAO,EAACC,CAAzB;IAA2BC,kBAAkB,EAACC,CAA9C;IAAgDC,gBAAgB,EAACC;EAAjE,IAAoEvB,CAAvE;;EAAyE,IAAG;IAAC,IAAGO,CAAC,CAACiB,QAAF,CAAWrB,CAAX,CAAH,EAAiB;;IAAO,IAAGG,CAAC,CAACH,CAAD,CAAD,GAAK,EAAR,EAAW;MAACb,CAAC,CAACG,CAAD,CAAD;MAAK;IAAO;;IAAA,IAAG4B,CAAC,IAAEtB,CAAC,CAACkB,CAAD,CAAP,EAAW;MAACX,CAAC,CAACH,CAAD,CAAD,GAAKG,CAAC,CAACH,CAAD,CAAD,GAAKG,CAAC,CAACH,CAAD,CAAD,GAAK,CAAV,GAAY,CAAjB;MAAmB;IAAO;;IAAAoB,CAAC,KAAGtB,CAAC,CAACgB,CAAD,CAAD,IAAM,CAACL,CAAC,IAAE,IAAH,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACa,0BAAlB,KAA+C,IAArD,IAA2DlB,CAAC,CAACmB,IAAF,CAAOvB,CAAP,GAAUwB,UAAU,CAAC,MAAI/B,CAAC,CAACgC,QAAF,CAAW9B,CAAC,CAAC;MAACY,SAAS,EAACjB,CAAX;MAAauB,MAAM,EAAC,SAApB;MAA8Ba,eAAe,EAAC1B;IAA9C,CAAD,CAAZ,CAAL,EAAqES,CAAC,IAAE,IAAH,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACa,0BAAtF,CAA/E,IAAkM7B,CAAC,CAACgC,QAAF,CAAW9B,CAAC,CAAC;MAACY,SAAS,EAACjB,CAAX;MAAauB,MAAM,EAACC,CAApB;MAAsBY,eAAe,EAAC1B;IAAtC,CAAD,CAAZ,CAArM,CAAD,EAA+PW,CAAC,IAAEjB,CAAC,EAAnQ,EAAsQK,CAAC,CAACe,CAAD,CAAD,IAAMzB,CAAC,CAAC;MAACkB,SAAS,EAACjB,CAAX;MAAasB,IAAI,EAACZ,CAAlB;MAAoBe,OAAO,EAACC;IAA5B,CAAD,CAA7Q;EAA8S,CAAxY,CAAwY,OAAMW,CAAN,EAAQ;IAACC,OAAO,CAACC,KAAR,CAAcF,CAAd,GAAiBxC,CAAC,CAACG,CAAD,CAAlB;EAAsB;AAAC;;AAAA,SAASwC,CAAT,CAAWhB,CAAX,EAAa;EAAC,OAAOb,CAAC,CAAC,IAAD,EAAM8B,SAAN,EAAgB,kBAA0I;IAAA,IAAhI;MAACxB,SAAS,EAACV,CAAX;MAAamC,gBAAgB,EAAC;QAACC,YAAY,EAAC3C,CAAd;QAAgBkB,4BAA4B,EAACC;MAA7C,CAA9B;MAA8EyB,qBAAqB,EAACvB,CAAC,GAACpB,CAAtG;MAAwGmB,oBAAoB,EAACV;IAA7H,CAAgI;;IAAC,IAAG;MAAC,IAAGV,CAAC,IAAE,IAAN,EAAW;MAAO,IAAI0B,CAAC,GAAC5B,CAAC,CAACE,CAAD,EAAGc,CAAH,CAAP;MAAA,IAAac,CAAC,GAAC,MAAMP,CAAC,CAACK,CAAD,CAAtB;;MAA0B,KAAI,IAAII,CAAR,IAAaF,CAAb,EAAeb,CAAC,CAAC;QAACC,iBAAiB,EAACc,CAAnB;QAAqBb,SAAS,EAACV,CAA/B;QAAiCW,4BAA4B,EAACC,CAA9D;QAAgEC,oBAAoB,EAACV;MAArF,CAAD,CAAD;IAA2F,CAA1J,CAA0J,OAAMgB,CAAN,EAAQ;MAACY,OAAO,CAACC,KAAR,CAAcb,CAAd;IAAiB;EAAC,CAAhV,CAAR;AAA0V;;AAAA,IAAImB,CAAC,GAACL,CAAN;AAAQ,SAAOA,CAAC,IAAIxC,CAAZ,EAAc6C,CAAC,IAAIjD,CAAnB"},"metadata":{},"sourceType":"module"}