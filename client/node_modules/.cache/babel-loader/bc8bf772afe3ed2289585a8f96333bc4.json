{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonFungibleTokenOfAccountOnNetwork = exports.FungibleTokenOfAccountOnNetwork = void 0;\n\nconst bignumber_js_1 = require(\"bignumber.js\");\n\nconst primitives_1 = require(\"./primitives\");\n\nclass FungibleTokenOfAccountOnNetwork {\n  constructor() {\n    this.identifier = \"\";\n    this.balance = new bignumber_js_1.BigNumber(0);\n  }\n\n  static fromHttpResponse(payload) {\n    let result = new FungibleTokenOfAccountOnNetwork();\n    result.identifier = payload.tokenIdentifier || payload.identifier || \"\";\n    result.balance = new bignumber_js_1.BigNumber(payload.balance || 0);\n    return result;\n  }\n\n}\n\nexports.FungibleTokenOfAccountOnNetwork = FungibleTokenOfAccountOnNetwork;\n\nclass NonFungibleTokenOfAccountOnNetwork {\n  constructor(init) {\n    this.identifier = \"\";\n    this.collection = \"\";\n    this.timestamp = 0;\n    this.attributes = Buffer.from([]);\n    this.nonce = 0;\n    this.type = \"\";\n    this.name = \"\";\n    this.creator = new primitives_1.Address(\"\");\n    this.supply = new bignumber_js_1.BigNumber(0);\n    this.decimals = 0;\n    this.royalties = new bignumber_js_1.BigNumber(0);\n    this.assets = [];\n    Object.assign(this, init);\n  }\n\n  static fromProxyHttpResponse(payload) {\n    let result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n    result.identifier = payload.tokenIdentifier || \"\";\n    result.collection = NonFungibleTokenOfAccountOnNetwork.parseCollectionFromIdentifier(result.identifier);\n    result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0).div(100);\n    return result;\n  }\n\n  static fromProxyHttpResponseByNonce(payload) {\n    let result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n    let nonceAsHex = new primitives_1.Nonce(result.nonce).hex();\n    result.identifier = `${payload.tokenIdentifier}-${nonceAsHex}`;\n    result.collection = payload.tokenIdentifier || \"\";\n    result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0).div(100);\n    return result;\n  }\n\n  static fromApiHttpResponse(payload) {\n    let result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n    result.identifier = payload.identifier || \"\";\n    result.collection = payload.collection || \"\";\n    return result;\n  } // TODO: Compare results from Proxy and API and try to reconciliate them.\n\n\n  static fromHttpResponse(payload) {\n    let result = new NonFungibleTokenOfAccountOnNetwork();\n    result.timestamp = Number(payload.timestamp || 0);\n    result.attributes = Buffer.from(payload.attributes || \"\", \"base64\");\n    result.nonce = payload.nonce || 0;\n    result.type = payload.type || \"\";\n    result.name = payload.name || \"\";\n    result.creator = new primitives_1.Address(payload.creator || \"\");\n    result.decimals = Number(payload.decimals || 0);\n    result.supply = new bignumber_js_1.BigNumber(payload.balance || 1);\n    result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0);\n    result.assets = payload.assets || [];\n    return result;\n  }\n\n  static parseCollectionFromIdentifier(identifier) {\n    let parts = identifier.split(\"-\");\n    let collection = parts.slice(0, 2).join(\"-\");\n    return collection;\n  }\n\n}\n\nexports.NonFungibleTokenOfAccountOnNetwork = NonFungibleTokenOfAccountOnNetwork;","map":{"version":3,"mappings":"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","names":["FungibleTokenOfAccountOnNetwork","constructor","bignumber_js_1","fromHttpResponse","payload","result","identifier","tokenIdentifier","balance","exports","NonFungibleTokenOfAccountOnNetwork","init","Buffer","from","primitives_1","Object","assign","fromProxyHttpResponse","collection","parseCollectionFromIdentifier","royalties","div","fromProxyHttpResponseByNonce","nonceAsHex","nonce","hex","fromApiHttpResponse","timestamp","Number","attributes","type","name","creator","decimals","supply","assets","parts","split","slice","join"],"sourceRoot":"","sources":["../src/tokens.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}