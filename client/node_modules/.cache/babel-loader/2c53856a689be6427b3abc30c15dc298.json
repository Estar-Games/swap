{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FieldsBinaryCodec = void 0;\n\nconst typesystem_1 = require(\"../typesystem\");\n\nclass FieldsBinaryCodec {\n  constructor(binaryCodec) {\n    this.binaryCodec = binaryCodec;\n  }\n\n  decodeNested(buffer, fieldDefinitions) {\n    let fields = [];\n    let totalLength = 0;\n\n    for (const fieldDefinition of fieldDefinitions) {\n      let [decoded, decodedLength] = this.binaryCodec.decodeNested(buffer, fieldDefinition.type);\n      buffer = buffer.slice(decodedLength);\n      totalLength += decodedLength;\n      let field = new typesystem_1.Field(decoded, fieldDefinition.name);\n      fields.push(field);\n    }\n\n    return [fields, totalLength];\n  }\n\n  encodeNested(fields) {\n    let buffers = [];\n\n    for (const field of fields) {\n      let fieldBuffer = this.binaryCodec.encodeNested(field.value);\n      buffers.push(fieldBuffer);\n    }\n\n    return Buffer.concat(buffers);\n  }\n\n}\n\nexports.FieldsBinaryCodec = FieldsBinaryCodec;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAGA,MAAaA,iBAAb,CAA8B;EAG1BC,YAAYC,WAAZ,EAAoC;IAChC,KAAKA,WAAL,GAAmBA,WAAnB;EACH;;EAEDC,YAAY,CAACC,MAAD,EAAiBC,gBAAjB,EAAoD;IAC5D,IAAIC,MAAM,GAAY,EAAtB;IACA,IAAIC,WAAW,GAAG,CAAlB;;IAEA,KAAK,MAAMC,eAAX,IAA8BH,gBAA9B,EAAgD;MAC5C,IAAI,CAACI,OAAD,EAAUC,aAAV,IAA2B,KAAKR,WAAL,CAAiBC,YAAjB,CAA8BC,MAA9B,EAAsCI,eAAe,CAACG,IAAtD,CAA/B;MACAP,MAAM,GAAGA,MAAM,CAACQ,KAAP,CAAaF,aAAb,CAAT;MACAH,WAAW,IAAIG,aAAf;MAEA,IAAIG,KAAK,GAAG,IAAIC,kBAAJ,CAAUL,OAAV,EAAmBD,eAAe,CAACO,IAAnC,CAAZ;MACAT,MAAM,CAACU,IAAP,CAAYH,KAAZ;IACH;;IAED,OAAO,CAACP,MAAD,EAASC,WAAT,CAAP;EACH;;EAEDU,YAAY,CAACX,MAAD,EAA6B;IACrC,IAAIY,OAAO,GAAa,EAAxB;;IAEA,KAAK,MAAML,KAAX,IAAoBP,MAApB,EAA4B;MACxB,IAAIa,WAAW,GAAG,KAAKjB,WAAL,CAAiBe,YAAjB,CAA8BJ,KAAK,CAACO,KAApC,CAAlB;MACAF,OAAO,CAACF,IAAR,CAAaG,WAAb;IACH;;IAED,OAAOE,MAAM,CAACC,MAAP,CAAcJ,OAAd,CAAP;EACH;;AAhCyB;;AAA9BK","names":["FieldsBinaryCodec","constructor","binaryCodec","decodeNested","buffer","fieldDefinitions","fields","totalLength","fieldDefinition","decoded","decodedLength","type","slice","field","typesystem_1","name","push","encodeNested","buffers","fieldBuffer","value","Buffer","concat","exports"],"sourceRoot":"","sources":["../../../src/smartcontracts/codec/fields.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}